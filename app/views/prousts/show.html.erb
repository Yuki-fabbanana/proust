  <style>
    /* Always set the map height explicitly to define the size of the div
     * element that contains the map. */
    #map {
      height: 100%;
    }
    /* Optional: Makes the sample page fill the window. */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
  <body>
    <div id="map"></div>
    <script>
      var map;
      var tokyo = {lat: 35.681167, lng: 139.767052}
      var infoWindow;
      var marker;
      function initMap() {
          'use strict';
          var map = document.getElementById('map');
      //   map = new google.maps.Map(map, {
      //     center: tokyo,
      //     zoom: 5,
      //     clickableIcons: false
      //   });

      //   map.addListener('click', function(e) {
      //     var marker = new google.maps.Marker({
      //       position: e.latLng,
      //       map: this,
      //       animation: google.maps.Animation.DROP
      //     });
      //     var infoWindow = new google.maps.InfoWindow({
      //       content: e.latLng.toString()
      //     });
      //     marker.addListener('click', function() {
      //       infoWindow.open(map, marker);
      //     });
      //   });

        //Geolocation

        if (!navigator.geolocation) {
          alert('Geolocation not supported');
          return;
        }

        navigator.geolocation.getCurrentPosition(function(position) {
          var gMap = new google.maps.Map(map, {
            center: {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            },
            zoom: 5
          });

          var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
          var marker = new google.maps.Marker({
            map: gMap,
            position: latlng
          });

        }, function() {
          alert('Geolocation failed!');
          return;
        });

        // infoWindow = new google.maps.InfoWindow({
        //   position: tokyo,
        //   content: 'Hello! Hello! Hello! Hello! Hello!'
        // });

        // infoWindow.open(map);

        // map.addListener('click', function(e) {
        //   var marker = new google.maps.Marker({
        //     position: e.latLng,
        //     map: map,
        //     title: e.latLng.toString(),
        //     animation: google.maps.Animation.DROP
        //   });
          // マーカーを消す
          // marker.addListener('click', function() {
          //   this.setMap(null)
          // });
        // });

        // デフォルトでマーカーを設置
        // marker = new google.maps.Marker({
        //   position: tokyo,
        //   map: map,
        //   title: 'Tokyo!'
        // });

        // map.addListener('click', function(e){
        //   console.log(e.latLng.lat());
        //   console.log(e.latLng.lng());
        //   console.log(e.latLng.toString());
        //   this.setCenter(e.latLng);
        // });
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?language=ja&region=JP&key=AIzaSyDuZaPVeDeOgLEu9I875ZvD0abh7R7KGtM&callback=initMap"
    async defer></script>
  </body>